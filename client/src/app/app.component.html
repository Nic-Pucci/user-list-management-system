<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="app.component.css">
    <title>Users</title>
  </head>
  <body class="container">
    <h1>{{title}}</h1> <br>
    <button type="button" class="btn btn-primary" (click)="OpenUserFormModal ()">Add User</button> <br><br>

    <h4>USERS:</h4>
    <table class="table table-dark sortable">
      <thead>
        <tr>
          <th (click)="SortByID ()">ID <i class="fa" [ngClass]="{ 
            'fa-sort' : selectedSortOption == SortOption.none ,
            'fa-sort-up' : selectedSortOption == SortOption.idSortAsc  , 
            'fa-sort-down' : selectedSortOption == SortOption.idSortDesc }"></i></th>
          <th (click)="SortByName ()">Name <i class="fa" [ngClass]="{ 
            'fa-sort' : selectedSortOption == SortOption.none ,
            'fa-sort-up' : selectedSortOption == SortOption.nameSortAsc  , 
            'fa-sort-down' : selectedSortOption == SortOption.nameSortDesc }"></i></th>
          <th (click)="SortByEmail ()">Email <i class="fa" [ngClass]="{ 
            'fa-sort' : selectedSortOption == SortOption.none ,
            'fa-sort-up' : selectedSortOption == SortOption.emailSortAsc  , 
            'fa-sort-down' : selectedSortOption == SortOption.emailSortDesc }"></i></th>
          <th (click)="SortByAge ()">Age <i class="fa" [ngClass]="{ 
            'fa-sort' : selectedSortOption == SortOption.none ,
            'fa-sort-up' : selectedSortOption == SortOption.ageSortAsc  , 
            'fa-sort-down' : selectedSortOption == SortOption.ageSortDesc }"></i></th>
          <th>Options</th>
        </tr>
      </thead>
      <tbody id="table">
        <tr *ngFor="let user of userList; let i = index">
          <td>{{user.id}}</td>
          <td>{{user.name}}</td>
          <td>{{user.email}}</td>
          <td>{{user.age}}</td>
          <td><button class="btn btn-warning"  (click)="EditUser ( i )">Edit</button>  |  <button class="btn btn-danger"  (click)="DeleteUser ( i )">Delete</button></td>
      </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="5" class="average">Average Age of All Users: <mark name="avgAge">{{averageAge}}</mark></td>
        </tr>
      </tfoot>
    </table> <br>

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  </body>
</html>
